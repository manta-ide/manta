<?xml version="1.0" encoding="UTF-8"?>
<graph xmlns="urn:app:graph" version="1.0" directed="true">
  <nodes>
    <node id="topbar-component" title="TopBar Component" x="100" y="100" z="0">
      <description>A responsive header navigation component that provides a clean interface with customizable styling and layout options. Features border styling, background colors, and flexible content areas for branding and navigation elements.</description>
      <props>
        <prop name="header-styles" title="Header Styles" type="object">
        <field name="background-color" title="Background Color" type="color">#27272a</field>
        <field name="border-color" title="Border Color" type="color">#3f3f46</field>
        <field name="border-width" title="Border Width" type="number">1</field>
        <field name="padding-x" title="Horizontal Padding" type="number">16</field>
        <field name="padding-y" title="Vertical Padding" type="number">6</field>
      </prop>
        <prop name="layout-settings" title="Layout Settings" type="object">
        <field name="justify-content" title="Content Alignment" type="select">
          <value>space-between</value>
          <options>
          <option>flex-start</option>
          <option>center</option>
          <option>space-between</option>
          <option>space-around</option>
          <option>space-evenly</option>
          </options>
        </field>
        <field name="align-items" title="Vertical Alignment" type="select">
          <value>center</value>
          <options>
          <option>flex-start</option>
          <option>center</option>
          <option>flex-end</option>
          <option>stretch</option>
          </options>
        </field>
        <field name="gap" title="Element Gap" type="number">12</field>
      </prop>
        <prop name="component-behavior" title="Component Behavior" type="object">
        <field name="fixed-position" title="Fixed Position" type="boolean">false</field>
        <field name="sticky" title="Sticky Header" type="boolean">false</field>
        <field name="z-index" title="Z-Index" type="number">10</field>
      </prop>
      </props>
    </node>

    <node id="custom-node-component" title="CustomNode Component" x="150.24186021598283" y="1076.5246295842237" z="0">
      <description>A React component that renders individual graph nodes with both zoomed-in and zoomed-out views. Features visual state indicators for built/unbuilt nodes, connection handles, properties display, and responsive sizing based on zoom level.</description>
      <props>
        <prop name="node-background-color" title="Node Background Color" type="color">#ffffff</prop>
        <prop name="selected-background-color" title="Selected Background Color" type="color">#f8fafc</prop>
        <prop name="border-color" title="Border Color" type="color">#e5e7eb</prop>
        <prop name="selected-border-color" title="Selected Border Color" type="color">#2563eb</prop>
        <prop name="node-width" title="Node Width" type="number">260</prop>
        <prop name="node-min-height" title="Node Minimum Height" type="number">160</prop>
        <prop name="title-font-size" title="Title Font Size" type="number">16</prop>
        <prop name="zoom-out-title-size" title="Zoomed Out Title Size" type="number">24</prop>
        <prop name="prompt-font-size" title="Prompt Font Size" type="number">13</prop>
        <prop name="handle-color" title="Handle Color" type="color">#ffffff</prop>
        <prop name="handle-border-color" title="Handle Border Color" type="color">#9ca3af</prop>
        <prop name="unbuilt-indicator-color" title="Unbuilt Indicator Color" type="color">#ef4444</prop>
        <prop name="show-state-indicators" title="Show State Indicators" type="boolean">true</prop>
        <prop name="zoom-threshold" title="Zoom Out Threshold" type="number">0.8</prop>
      </props>
    </node>

    <node id="graph-canvas-component" title="GraphCanvas Component" x="400" y="100" z="0">
      <description>The main ReactFlow canvas component that manages the entire graph visualization. Handles node/edge state management, layout algorithms, real-time updates via SSE, optimistic UI operations, drag and drop interactions, and multi-selection functionality.</description>
      <props>
        <prop name="canvas-background-color" title="Canvas Background Color" type="color">#374151</prop>
        <prop name="background-grid-size" title="Background Grid Size" type="number">20</prop>
        <prop name="min-zoom" title="Minimum Zoom Level" type="number">0.1</prop>
        <prop name="max-zoom" title="Maximum Zoom Level" type="number">2</prop>
        <prop name="fit-view-padding" title="Fit View Padding" type="number">0.2</prop>
        <prop name="pan-scroll-mode" title="Pan on Scroll Mode" type="select">
          <value>Free</value>
          <options>
          <option>Free</option>
          <option>Vertical</option>
          <option>Horizontal</option>
          </options>
        </prop>
        <prop name="enable-zoom-on-scroll" title="Enable Zoom on Scroll" type="boolean"></prop>
        <prop name="enable-zoom-on-pinch" title="Enable Zoom on Pinch" type="boolean">true</prop>
        <prop name="connection-mode" title="Connection Mode" type="select">
          <value>Loose</value>
          <options>
          <option>Strict</option>
          <option>Loose</option>
          </options>
        </prop>
        <prop name="auto-layout-algorithm" title="Auto Layout Algorithm" type="select">
          <value>layered</value>
          <options>
          <option>layered</option>
          <option>force</option>
          <option>mrtree</option>
          </options>
        </prop>
        <prop name="layout-node-spacing" title="Layout Node Spacing" type="number">80</prop>
        <prop name="layout-layer-spacing" title="Layout Layer Spacing" type="number">100</prop>
      </props>
    </node>

    <node id="toolbar-components" title="Toolbar Components" x="1154.3815119104017" y="541.8089637690993" z="0">
      <description>The left-side toolbar containing tool buttons for select, pan, and add-node modes. Provides visual feedback for the active tool and tooltips explaining each tool&apos;s functionality.</description>
      <props>
        <prop name="toolbar-position" title="Toolbar Position" type="select">
          <value>left</value>
          <options>
          <option>left</option>
          <option>right</option>
          <option>top</option>
          <option>bottom</option>
          </options>
        </prop>
        <prop name="toolbar-gap" title="Button Gap" type="number">8</prop>
        <prop name="button-size" title="Button Size" type="number">32</prop>
        <prop name="active-button-color" title="Active Button Color" type="color">#2563eb</prop>
        <prop name="inactive-button-color" title="Inactive Button Color" type="color">#3f3f46</prop>
        <prop name="button-text-color" title="Button Text Color" type="color">#9ca3af</prop>
        <prop name="active-text-color" title="Active Text Color" type="color">#ffffff</prop>
        <prop name="hover-color" title="Hover Color" type="color">#4f46e5</prop>
        <prop name="show-tooltips" title="Show Tooltips" type="boolean">true</prop>
        <prop name="default-tool" title="Default Tool" type="select">
          <value>select</value>
          <options>
          <option>select</option>
          <option>pan</option>
          <option>add-node</option>
          </options>
        </prop>
      </props>
    </node>

    <node id="action-buttons" title="Action Buttons" x="1148.5322761763518" y="710.6946939406149" z="0">
      <description>The right-side action buttons including the &quot;Build Graph&quot; button that triggers graph compilation and code generation. Features loading states, disabled states, and visual feedback during operations.</description>
      <props>
        <prop name="button-position" title="Button Position" type="select">
          <value>top-right</value>
          <options>
          <option>top-right</option>
          <option>top-left</option>
          <option>bottom-right</option>
          <option>bottom-left</option>
          </options>
        </prop>
        <prop name="button-gap" title="Button Gap" type="number">8</prop>
        <prop name="build-button-color" title="Build Button Color" type="color">#16a34a</prop>
        <prop name="build-button-text" title="Build Button Text" type="text">Build Graph</prop>
        <prop name="loading-text" title="Loading Text" type="text">Building Graph...</prop>
        <prop name="disabled-opacity" title="Disabled Opacity" type="number">0.75</prop>
        <prop name="button-background" title="Button Background Color" type="color">#3f3f46</prop>
        <prop name="action-buttons-button-text-color" title="Button Text Color" type="color">#9ca3af</prop>
        <prop name="button-hover-color" title="Button Hover Color" type="color">#52525b</prop>
        <prop name="show-loading-spinner" title="Show Loading Spinner" type="boolean">true</prop>
      </props>
    </node>

    <node id="edge-styling-system" title="Edge Styling System" x="-134.45368560108577" y="921.5021793759893" z="0">
      <description>The visual styling system for graph edges that handles different states: default, selected, and unbuilt. Manages stroke colors, widths, dash patterns, and opacity for visual feedback on edge status.</description>
      <props>
        <prop name="default-edge-color" title="Default Edge Color" type="color">#9ca3af</prop>
        <prop name="default-edge-width" title="Default Edge Width" type="number">2</prop>
        <prop name="default-edge-opacity" title="Default Edge Opacity" type="number">0.8</prop>
        <prop name="selected-edge-color" title="Selected Edge Color" type="color">#3b82f6</prop>
        <prop name="selected-edge-width" title="Selected Edge Width" type="number">4</prop>
        <prop name="selected-edge-opacity" title="Selected Edge Opacity" type="number">1</prop>
        <prop name="unbuilt-edge-color" title="Unbuilt Edge Color" type="color">#ef4444</prop>
        <prop name="unbuilt-edge-width" title="Unbuilt Edge Width" type="number">3</prop>
        <prop name="unbuilt-dash-pattern" title="Unbuilt Dash Pattern" type="text">20,30</prop>
        <prop name="unbuilt-edge-opacity" title="Unbuilt Edge Opacity" type="number">0.9</prop>
        <prop name="edge-interaction-width" title="Edge Interaction Width" type="number">24</prop>
      </props>
    </node>

    <node id="node-state-management" title="Node State Management" x="498.00012822936503" y="1102.405674058105" z="0">
      <description>The system for tracking and comparing node states between the current graph and base graph to determine if nodes are built or unbuilt. Compares title and prompt changes while ignoring property modifications.</description>
      <props>
        <prop name="state-comparison-fields" title="State Comparison Fields" type="checkbox">
          <value>[&quot;title&quot;,&quot;prompt&quot;]</value>
          <options>
          <option>title</option>
          <option>prompt</option>
          <option>properties</option>
          <option>position</option>
          </options>
        </prop>
        <prop name="built-state-color" title="Built State Color" type="color">#10b981</prop>
        <prop name="unbuilt-state-color" title="Unbuilt State Color" type="color">#ef4444</prop>
        <prop name="building-state-color" title="Building State Color" type="color">#f59e0b</prop>
        <prop name="show-state-in-minimap" title="Show State in Minimap" type="boolean">true</prop>
        <prop name="minimap-built-color" title="Minimap Built Color" type="color">#9ca3af</prop>
        <prop name="minimap-unbuilt-color" title="Minimap Unbuilt Color" type="color">#fbbf24</prop>
        <prop name="enable-state-logging" title="Enable State Logging" type="boolean">true</prop>
        <prop name="ignore-property-changes" title="Ignore Property Changes" type="boolean">true</prop>
        <prop name="auto-refresh-states" title="Auto Refresh States" type="boolean">true</prop>
      </props>
    </node>
  </nodes>

  <edges>
    <edge id="graph-canvas-component-custom-node-component" source="graph-canvas-component" target="custom-node-component" role="uses"/>
    <edge id="graph-canvas-component-edge-styling-system" source="graph-canvas-component" target="edge-styling-system" role="uses"/>
    <edge id="graph-canvas-component-node-state-management" source="graph-canvas-component" target="node-state-management" role="uses"/>
    <edge id="custom-node-component-node-state-management" source="custom-node-component" target="node-state-management" role="uses"/>
    <edge id="toolbar-components-graph-canvas-component" source="toolbar-components" target="graph-canvas-component" role="controls"/>
    <edge id="action-buttons-graph-canvas-component" source="action-buttons" target="graph-canvas-component" role="triggers"/>
  </edges>
</graph>
